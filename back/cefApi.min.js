(function(){window.API={};var g={};window.bindSessionArr=[];window.cefQuery?(API.use=function(a){var c=a.persistent||!1,d=a.method.split(".")[0].toLowerCase();!g[d]&&!c&&!window.MacStockMetaData&&(g[d]=API.createSessionId(d));if(window.MacStockMetaData)a.sessionId=API.createMacSessionId();if(null===a.data||void 0===a.data)a.data=[];if("[object Array]"!=Object.prototype.toString.call(a.data))a.data=[a.data];var e={v:a.version||"1.0",method:a.method,params:a.data,sessionId:a.sessionId||g[d]},b=null,
f;c||(b=setTimeout(function(){window.cefQueryCancel&&window.cefQueryCancel(f);a.timeoutFunction?a.timeoutFunction(a.method,a.data):console.error("timeout["+a.method,"]params:",a.data)},a.timeout||3E4));f=window.cefQuery({request:JSON.stringify(e),persistent:c,timeout:a.timeout||3E4,onSuccess:function(c){b&&clearTimeout(b);if(a.success){if("string"===typeof c&&"fileReader.read"!==a.method){var d=[!0,!1,null,0,1],e=["true","false","null","0","1"].indexOf(c);if(-1<e)return a.success(d[e])}return a.success(c)}},
onFailure:function(c,d){b&&clearTimeout(b);window.MacStockMetaData&&"1001"==c&&(a.timeoutFunction?a.timeoutFunction(a.method,a.data):console.error("timeout["+a.method,"]params:",a.data));a.error?a.error(c,d):0==c?console.log(d):console.error("["+a.method+"] Interface call failure:\nerror_code:"+c,"\nerror_message:"+d,"\nparams:",a.data,"\nsessionId:"+e.sessionId)}})},API.createSessionId=function(a){a=window.cefNewSession(a.toLowerCase());bindSessionArr.push(a);return a.sessionId},API.createMacSessionId=
function(){return window.MacStockSessionId()}):window.external&&"createObject"in window.external&&"getUserPath"in window.external?(API.use=function(a){var c=a.method.split("."),d=c[1],c=c[0];g[c]||(g[c]=API.createSessionId(c));var c=a.sessionId||g[c],e,b=a.data;if(void 0!==b&&""!==b&&"[object Array]"!=Object.prototype.toString.call(b)){e={"Quote.request":"onready","Quote.sortRequest":"callback","external.registerEvent":"onshow"};if(a.callbackName||e[a.method])"[object Object]"!=Object.prototype.toString.call(b)&&
(b={}),a.callbackName=a.callbackName||e[a.method],b[a.callbackName]=a.success;e=c[d](b)}else if("[object Array]"==Object.prototype.toString.call(b))switch(b.length){case 1:e=c[d](b[0]);break;case 2:e=c[d](b[0],b[1]);break;case 3:e=c[d](b[0],b[1],b[2]);break;case 4:e=c[d](b[0],b[1],b[2],b[3]);break;case 5:e=c[d](b[0],b[1],b[2],b[3],b[4]);break;case 6:e=c[d](b[0],b[1],b[2],b[3],b[4],b[5])}else e=c[d]();a.success&&!a.callbackName&&a.success(e)},API.createSessionId=function(a){if(-1<a.indexOf("external"))return external;
-1<a.indexOf("fileReader")?a="FileInputStream":-1<a.indexOf("fileWriter")&&(a="FileOutputStream");return external.createObject(a)}):window.HevoCef&&"IsHevoCef"in window.HevoCef?(API.use=function(a){var c=a.method.split("."),d=c[1],e=c[0],c=API.createCefObject(e);if(!c||c&&!c[d])d="["+a.method+"] client not support !!! Please  contact client development ",window.console&&console.error(d),a.error&&a.error(-1,d);else{var b,f=a.data;try{var g=function(){f.success=a.success;f._sessionId=a.sessionId||API.createSessionId(e);
f._persistent=a.persistent||!1};void 0!==f&&""!==f?("[object Object]"!=Object.prototype.toString.call(f)&&(f={cefparams:f}),g(),b=c[d](f)):window.HevoCef.IsAsyncObj?(f={},g(),b=c[d](f)):b=c[d]()}catch(h){d="["+a.method+"] errormsg: "+h.message;window.console&&console.error(d);a.error&&a.error(-2,d);return}a.success&&!a.callbackName&&(window.HevoCef.IsAsyncObj||a.success(b))}},API.createSessionId=function(a){return window.HevoSession&&window.HevoSession.cefNewSession&&window.HevoSession.cefNewSession(a.toLowerCase())},
API.createCefObject=function(a){if(-1<a.indexOf("CefExternal"))return window.CefExternal;if(-1<a.indexOf("Quote"))return window.Quote;if(-1<a.indexOf("Util"))return window.Util;if(-1<a.indexOf("Passport"))return window.Passport;if(-1<a.indexOf("HevoCef"))return window.HevoCef;if(-1<a.indexOf("external"))return window.external;if(-1<a.indexOf("XdMgr"))return window.XdMgr;if(-1<a.indexOf("Cache"))return window.CefCache;if(-1<a.indexOf("fileReader"))return window.fileReader;if(-1<a.indexOf("fileWriter"))return window.fileWriter}):
(API.use=function(a){a.notClient&&a.notClient()},API.createSessionId=function(){return 0});window.thsc&&window.thsc.registerComponent("thsc_b2c_cefAPI")})();